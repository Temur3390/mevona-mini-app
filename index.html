<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>üçè Mevona</title>
<style>
  *{margin:0;padding:0;box-sizing:border-box;font-family:"Poppins",sans-serif;}
  body{
    background:url('https://static5.tgstat.ru/channels/_0/43/43a2a76d7bdf49f9f8a449093aa196da.jpg') center/cover no-repeat;
    min-height:100vh;display:flex;align-items:center;justify-content:center;flex-direction:column;
    transition:background 1s ease-in-out;overflow:hidden;
  }
  .container{text-align:center;color:white;backdrop-filter:blur(10px);
    background:rgba(255,255,255,0.1);padding:10vw;border-radius:20px;
    box-shadow:0 4px 20px rgba(0,0,0,0.25);width:85%;max-width:400px;transition:transform .4s;}
  h1{font-size:clamp(22px,6vw,32px);margin-bottom:25px;}
  button{
    padding:14px 35px;border:none;border-radius:30px;
    background:rgba(255,255,255,0.25);color:white;
    font-size:clamp(16px,4vw,18px);cursor:pointer;transition:.3s;
    box-shadow:0 4px 15px rgba(255,255,255,0.2);
  }
  button:hover{transform:scale(1.05);background:rgba(255,255,255,0.35);}
  .profile{position:fixed;top:10px;left:10px;display:flex;align-items:center;gap:8px;
    background:rgba(255,255,255,0.12);backdrop-filter:blur(15px);
    border-radius:16px;padding:6px 10px;color:white;border:1px solid rgba(255,255,255,0.2);
    opacity:0;transform:translateY(-20px);transition:all .5s ease;}
  .profile.show{opacity:1;transform:translateY(0);}
  .profile img{width:38px;height:38px;border-radius:50%;border:2px solid rgba(255,255,255,0.4);}
  .top-icons{position:fixed;top:10px;right:12px;display:flex;gap:12px;
    opacity:0;transform:translateY(-20px);transition:all .5s ease;}
  .top-icons.show{opacity:1;transform:translateY(0);}
  .icon-btn{
    width:46px;height:46px;background:rgba(255,255,255,0.15);
    border-radius:50%;backdrop-filter:blur(15px);
    border:1px solid rgba(255,255,255,0.25);color:white;font-size:20px;
    display:flex;align-items:center;justify-content:center;cursor:pointer;
    box-shadow:0 4px 15px rgba(0,0,0,0.25);transition:all .25s ease;
  }
  .fruit-board{display:none;flex-wrap:wrap;justify-content:center;gap:20px;margin-top:100px;padding-bottom:80px;}
  .fruit-card{
    background:rgba(255,255,255,0.12);backdrop-filter:blur(15px);
    border-radius:20px;padding:14px;color:white;width:140px;text-align:center;
    box-shadow:0 4px 15px rgba(0,0,0,0.3);transition:.3s;
  }
  .fruit-card img{width:65px;height:65px;object-fit:cover;margin-bottom:10px;border-radius:10px;}
  .price{font-size:16px;font-weight:bold;margin-bottom:6px;}
  canvas.chart{width:100%;height:35px;border-radius:10px;background:rgba(255,255,255,0.1);}
  .menu{position:fixed;bottom:10px;left:50%;transform:translateX(-50%);
    display:none;justify-content:space-around;background:rgba(255,255,255,0.08);
    backdrop-filter:blur(20px);border-radius:16px;width:92%;padding:6px 8px;
    box-shadow:0 4px 20px rgba(0,0,0,0.3);}
  .menu button{flex:1;border:none;background:transparent;color:white;
    display:flex;flex-direction:column;align-items:center;font-size:clamp(11px,2vw,13px);padding:6px 0;}
  .menu button span{font-size:clamp(16px,5vw,22px);margin-bottom:3px;}
  .menu button:hover{background:rgba(255,255,255,0.25);border-radius:10px;}
  .market-modal{
    position:fixed;inset:0;background:rgba(0,0,0,0.65);
    backdrop-filter:blur(20px);display:none;flex-direction:column;
    align-items:center;justify-content:center;animation:fadeIn .5s ease;
  }
  .market-content{display:flex;flex-direction:column;gap:25px;width:80%;max-width:400px;}
  .market-btn{
    background:rgba(255,255,255,0.15);color:white;border:none;padding:15px;border-radius:12px;
    font-size:18px;text-align:center;cursor:pointer;transition:.3s;backdrop-filter:blur(10px);
  }
  .market-btn:hover{background:rgba(255,255,255,0.3);transform:scale(1.05);}
  .chart-modal{
    position:fixed;inset:0;background:rgba(0,0,0,0.75);
    backdrop-filter:blur(20px);display:none;flex-direction:column;align-items:center;justify-content:center;
  }
  .chart-header{position:absolute;top:25px;left:25px;color:white;font-size:20px;font-weight:600;text-shadow:0 0 8px #00fff5;}
  .chart-canvas{width:90%;max-width:600px;height:300px;background:rgba(255,255,255,0.08);border-radius:20px;box-shadow:0 0 30px rgba(0,255,255,0.3);}
  .chart-back{position:absolute;bottom:30px;padding:10px 25px;background:rgba(255,255,255,0.2);border:none;border-radius:25px;color:white;font-size:17px;cursor:pointer;}
</style>
</head>
<body>
  <div class="container" id="welcome">
    <h1>üçé Mevonaga xush kelibsiz!</h1>
    <button id="startBtn">Boshlash</button>
  </div>
  <div class="profile" id="profile">
    <img src="https://cdn-icons-png.flaticon.com/512/147/147144.png">
    <div><span class="balance">üí∞ Balans: 15 200 so'm</span><br><span class="level">üèÖ Level: 3</span></div>
  </div>
  <div class="top-icons" id="topIcons"><div class="icon-btn">üîî</div><div class="icon-btn">‚öôÔ∏è</div></div>

  <div class="fruit-board" id="fruitBoard">
    <div class="fruit-card" data-fruit="Olma"><img src="https://suret.pics/uploads/posts/2023-09/1695307402_2-84.jpg"><h3>Olma</h3><div class="price">3600 so'm</div><canvas class="chart"></canvas></div>
    <div class="fruit-card" data-fruit="Nok"><img src="https://shifo.uz/upload/iblock/bed/bedda0fdfd10a9e334a64af65d49f7d8.jpg"><h3>Nok</h3><div class="price">6700 so'm</div><canvas class="chart"></canvas></div>
    <div class="fruit-card" data-fruit="Apelsin"><img src="https://alaybazar.uz/upload/resize_cache/iblock/e51/500_500_2/uhikp3ibc5uv85ylhemsxxbl59nrw90p.jpg"><h3>Apelsin</h3><div class="price">8600 so'm</div><canvas class="chart"></canvas></div>
    <div class="fruit-card" data-fruit="Banan"><img src="https://cdn.beta.qalampir.uz/uploads/F7/s_rIyYvwYZu8sRmjt1e9bRo5A9GvtJ8z.jpg"><h3>Banan</h3><div class="price">11500 so'm</div><canvas class="chart"></canvas></div>
  </div>

  <div class="menu" id="menu">
    <button><span>üè†</span>Menu</button>
    <button id="marketBtn"><span>üìä</span>Bozor</button>
    <button><span>üöÄ</span>P2P</button>
    <button><span>üìâ</span>Trade</button>
    <button><span>üë•</span>Referal</button>
    <button><span>üí∞</span>Balans</button>
    <button><span>üë§</span>Profil</button>
  </div>

  <div class="market-modal" id="marketModal">
    <div class="market-content">
      <button class="market-btn" data-fruit="Olma">üçé Olma grafigi</button>
      <button class="market-btn" data-fruit="Nok">üçê Nok grafigi</button>
      <button class="market-btn" data-fruit="Apelsin">üçä Apelsin grafigi</button>
      <button class="market-btn" data-fruit="Banan">üçå Banan grafigi</button>
    </div>
    <button class="chart-back" id="marketBack">‚¨ÖÔ∏è Orqaga</button>
  </div>

  <div class="chart-modal" id="chartModal">
    <div class="chart-header" id="chartTitle"></div>
    <canvas id="mainChart" class="chart-canvas"></canvas>
    <button class="chart-back" id="chartBack">‚¨ÖÔ∏è Orqaga</button>
  </div>

<script>
const startBtn=document.getElementById('startBtn');
const welcome=document.getElementById('welcome');
const menu=document.getElementById('menu');
const profile=document.getElementById('profile');
const fruitBoard=document.getElementById('fruitBoard');
const topIcons=document.getElementById('topIcons');
const marketBtn=document.getElementById('marketBtn');
const marketModal=document.getElementById('marketModal');
const marketBack=document.getElementById('marketBack');
const chartModal=document.getElementById('chartModal');
const chartTitle=document.getElementById('chartTitle');
const chartBack=document.getElementById('chartBack');
const mainChart=document.getElementById('mainChart');
let chartAnim;
let prices={Olma:3600,Nok:6700,Apelsin:8600,Banan:11500};

// Boshlash
startBtn.addEventListener('click',()=>{
  document.body.style.background="url('https://e0.pxfuel.com/wallpapers/394/298/desktop-wallpaper-enchanted-forest-for-mobile-enchanted-sky.jpg') center/cover no-repeat";
  welcome.style.transform='scale(1.2)';
  setTimeout(()=>{
    welcome.style.display='none';
    menu.style.display='flex';
    fruitBoard.style.display='flex';
    profile.classList.add('show');
    topIcons.classList.add('show');
    startMiniCharts();
    startPriceFluctuation();
  },400);
});

// Har 2 soniyada narxlar o'zgaradi
function startPriceFluctuation(){
  setInterval(()=>{
    for(let fruit in prices){
      let change=(Math.random()-0.5)*100;
      prices[fruit]=Math.max(900,prices[fruit]+change);
      document.querySelector(`.fruit-card[data-fruit="${fruit}"] .price`).textContent=`${prices[fruit].toFixed(0)} so'm`;
    }
  },2000);
}

// Mini grafiklar
function startMiniCharts(){
  document.querySelectorAll('.chart').forEach(canvas=>{
    const ctx=canvas.getContext('2d');
    const w=canvas.width=130,h=canvas.height=35;
    const d=Array(60).fill(h/2);
    function draw(){
      ctx.clearRect(0,0,w,h);
      ctx.beginPath();ctx.moveTo(0,d[0]);
      for(let i=1;i<d.length;i++)ctx.lineTo(i*(w/d.length),d[i]);
      ctx.strokeStyle='#00ffcc';ctx.lineWidth=2;ctx.stroke();
    }
    function update(){
      d.shift();
      let n=d[d.length-1]+(Math.random()-0.5)*3;
      n=Math.max(5,Math.min(h-5,n));
      d.push(n);draw();
    }
    setInterval(update,1000); // sekinroq harakat
  });
}

// Bozor oynasi
marketBtn.addEventListener('click',()=>marketModal.style.display='flex');
marketBack.addEventListener('click',()=>marketModal.style.display='none');

// Meva grafigi
document.querySelectorAll('.market-btn').forEach(btn=>{
  btn.addEventListener('click',()=>{
    const fruit=btn.dataset.fruit;
    marketModal.style.display='none';
    chartModal.style.display='flex';
    startMainChart(fruit);
  });
});
chartBack.addEventListener('click',()=>{
  clearInterval(chartAnim);
  chartModal.style.display='none';
  marketModal.style.display='flex';
});

// Asosiy grafik
function startMainChart(fruit){
  const ctx=mainChart.getContext('2d');
  const w=mainChart.width=600,h=mainChart.height=300;
  const data=Array(80).fill(h/2);
  let price=prices[fruit];
  function draw(){
    ctx.clearRect(0,0,w,h);
    ctx.beginPath();
    ctx.moveTo(0,data[0]);
    for(let i=1;i<data.length;i++)ctx.lineTo(i*(w/data.length),data[i]);
    ctx.strokeStyle='#00fff5';
    ctx.lineWidth=2.5;
    ctx.shadowBlur=15;
    ctx.shadowColor='#00fff5';
    ctx.stroke();
  }
  function update(){
    data.shift();
    let next=data[data.length-1]+(Math.random()-0.5)*5;
    next=Math.max(10,Math.min(h-10,next));
    data.push(next);
    let delta=(Math.random()-0.5)*60;
    price=Math.max(900,price+delta);
    prices[fruit]=price;
    document.querySelector(`.fruit-card[data-fruit="${fruit}"] .price`).textContent=`${price.toFixed(0)} so'm`;
    chartTitle.textContent=`${fruit} ‚Äî ${price.toFixed(0)} so'm`;
    draw();
  }
  draw();
  chartAnim=setInterval(update,2000); // 2 soniyada yangilanish (forex M30‚ÄìD1 uslubi)
}
</script>
</body>
</html>
